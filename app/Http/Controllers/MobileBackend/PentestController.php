<?php

namespace App\Http\Controllers\MobileBackend;

use App\Http\Controllers\Controller;
use App\Models\AgenceRegionale;
use App\Models\Diplome;
use App\Models\FavorisOffreEmploi;
use App\Models\NiveauEtude;
use App\Models\SecteurActivite;
use App\Models\TypeContrat;
use Illuminate\Http\Request;

class PentestController extends Controller
{
    //
    public function test(){
        $favori         = FavorisOffreEmploi::where('user_id',124099)->first();
        $typecontrat    = TypeContrat::whereIn('id', $favori->typecontrat)->get();
        $niveauetude    = NiveauEtude::whereIn('id', $favori->niveauetude)->get();
        $specialite     = SecteurActivite::whereIn('id', $favori->specialite)->get();
        $diplome        = Diplome::whereIn('id', $favori->diplome)->get();
        $agenceregionale = AgenceRegionale::whereIn('id', $favori->agenceregionale)->get();

        return response()->json([
            'data'      => [
                'typecontrat'       => $typecontrat,
                'niveauetude'       => $niveauetude,
                'specialite'        => $specialite,
                'diplome'           => $diplome,
                'agenceregionale'   => $agenceregionale,
            ],
            'favoris'   => $favori
        ]);
    }
}
